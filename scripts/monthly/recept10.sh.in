#!/bin/sh

if test -z "$JMARECEIPT_ENV" ; then
    JMARECEIPT_ENV="@jma-receipt-env@"
fi
if ! test -f "$JMARECEIPT_ENV"; then
    exit 0
fi

. $JMARECEIPT_ENV
#-------------------------------------------#
#    労災（入院）請求書用ファイル作成
#        CPCOMMONSHELL1.INC  
#        $1 SRYYM TERID SYSYMD
#        $2 SYOKBN
#           1:一括作成  2:個別作成
#        $3 RECEKBN
#           3:全体  
#        $4 エラーファイル名 
#        $5 JOBID 
#        $6 SHELLID
#        $7 県単用項目編集プログラム名（医保用）
#        $8 処理年月
#        $9  作成年月日
#        $10 作成時間
#-------------------------------------------#
##      エラーファイル削除
	echo $#
	echo "echo " $4
        if  [ -e $4 ]; then
            rm  $4
        fi
        
        rm  /var/tmp/RECE8*
        

    	$DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0800 -parameter $1$2$3$5$6    > /home/orca/recept10.log
	
        if  [ -e $4 ]; then
            exit  
        else 
        $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0810 -parameter $1$2$3$5$6    >> /home/orca/recept10.log
        fi

        if  [ -e $4 ]; then
            exit  
        else 
        $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0820 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi 

        if  [ -e $4 ]; then
            exit 
        else 
     	$DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0830 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
     	$DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0840 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
        $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0850 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
        $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0860 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
        $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0870 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
        $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0880 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
        $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0890 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
           exit 
        else 
       	$DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0900 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
       	$DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0910 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
       	$DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0920 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
       	$DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0930 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
       	$DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0940 -parameter $1$3$5$6      >> /home/orca/recept10.log

        fi

        if  [ -e $4 ]; then
            exit 
        else 
            if  [ $2 -eq '1' ]; then
##
##              レセ一括作成 
                if  [ $8 -lt '200610' ]; then
                    $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0950 -parameter $9${10}$1$2$3$8$5$6   >> /home/orca/recept10.log
                    if  [ -e $4 ]; then
                       exit 
                    else 
                       $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0951 -parameter $9${10}$1$3$8$5$6   >> /home/orca/recept10.log
                    fi
                else    
                    $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0960 -parameter $9${10}$1$2$3$8$5$6   >> /home/orca/recept10.log
                    if  [ -e $4 ]; then
                       exit 
                    else 
                       $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0961 -parameter $9${10}$1$3$8$5$6   >> /home/orca/recept10.log
                    fi
                fi
            else
##
##              レセ個別作成 
                if  [ $8 -lt '200610' ]; then
                    $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0950 -parameter $9${10}$1$2$3$8$5$6   >> /home/orca/recept10.log
                    if  [ -e $4 ]; then
                       exit 
                    else 
                       $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0951 -parameter $9${10}$1$3$8$5$6   >> /home/orca/recept10.log
                    fi
                else    
                    $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0960 -parameter $9${10}$1$2$3$8$5$6   >> /home/orca/recept10.log
                    if  [ -e $4 ]; then
                       exit 
                    else 
                       $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCR0961 -parameter $9${10}$1$3$8$5$6   >> /home/orca/recept10.log
                    fi
                fi
            fi
        fi


        if  [ -e $4 ]; then
            exit 
        else
        $DBSTUB -dir $LDDIRECTORY -bd orcabt ORCBJOB -parameter JBE$5$6        >> /home/orca/recept10.log

	fi

        exit
