tbl_jyurrk {
	HOSPID				char(24);
	PTID 				number(10);
        NYUGAIKBN                       char(1);
	SRYKA				char(2);
	SRYYMD				char(8);
	RENNUM				number(1);
	DOUJI_RENNUM		number(1);
	KAIKEI_RENNUM		number(3);
	EDANUM              number(1);
	LASTKBN				char(1);
	DRCD				char(5);
	HKNCOMBINUM			char(4);
	HKNKBN  			char(1);
	DENPNUM				number(7);
	SRYKBN1				char(2);
	SRYKBN2				char(2);
	SRYKBN3				char(2);
	SRYKBN4				char(2);
	SRYKBN5				char(2);
	SRYKBN6				char(2);
	SRYKBN7				char(2);
	SRYKBN8				char(2);
	SRYKBN9				char(2);
	SRYKBN10			char(2);
	SRYKBN11			char(2);
	ZAINUM1				number(8);
	ZAINUM2				number(8);
	ZAINUM3				number(8);
	ZAINUM4				number(8);
	ZAINUM5				number(8);
	ZAINUM6				number(8);
	ZAINUM7				number(8);
	ZAINUM8				number(8);
	ZAINUM9				number(8);
	ZAINUM10			number(8);
	ZAINUM11			number(8);
	ZAINUM12			number(8);
	ZAINUM13			number(8);
	ZAINUM14			number(8);
	ZAINUM15			number(8);
	TERMID   			varchar(16);
	OPID     			varchar(16);
	CREYMD   			char(8);
	UPYMD    			char(8);
	UPHMS				char(6);
#-----> 主キー更新用項目
	UPHOSPID			char(24),virtual;
	UPPTID 				number(10),virtual;
        UPNYUGAIKBN                     char(1),virtual;
	UPSRYKA				char(2),virtual;
	UPSRYYMD			char(8),virtual;
	UPRENNUM			number(1),virtual;
	UPDOUJI_RENNUM		number(1),virtual;
	UPKAIKEI_RENNUM		number(3),virtual;
	UPEDANUM            number(1),virtual;
};

primary	{
	HOSPID,PTID,NYUGAIKBN,SRYKA,SRYYMD,RENNUM,
	DOUJI_RENNUM,KAIKEI_RENNUM,EDANUM;
};

path	key 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
			AND   SRYYMD      =   :SRYYMD
			AND   RENNUM      =   :RENNUM
			AND   DOUJI_RENNUM =  :DOUJI_RENNUM
                	AND   KAIKEI_RENNUM = :KAIKEI_RENNUM
			AND   EDANUM      =   :EDANUM
		;
	};
};

path	key2 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD DESC,
                                          SRYKA,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};

path	key3 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};

path	key4 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key4_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA 
			AND   SRYYMD      =   :SRYYMD
			AND   LASTKBN     =   '1'
			ORDER   BY        RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};

path	key5 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key5_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA 
			AND   SRYYMD      =   :SRYYMD
			AND   RENNUM      =   :RENNUM
			AND   LASTKBN     =   '1'
			ORDER   BY        DOUJI_RENNUM,
                                          KAIKEI_RENNUM,
                                          EDANUM
		;
	};
};

path	key6 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key6_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   DENPNUM     =   :DENPNUM
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYKA,
			                  SRYYMD,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};

path	key7 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key7_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD  DESC,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};
path	upd1	{ 	
	DBUPDATE	{
		UPDATE	tbl_jyurrk 
				SET	
                   HOSPID              = :HOSPID,
                   PTID                = :PTID,
		   NYUGAIKBN           = :NYUGAIKBN,
                   SRYKA               = :SRYKA,
                   SRYYMD              = :SRYYMD,
                   RENNUM              = :RENNUM,
                   DOUJI_RENNUM        = :DOUJI_RENNUM,
                   KAIKEI_RENNUM       = :KAIKEI_RENNUM,
                   EDANUM              = :EDANUM,
                   LASTKBN             = :LASTKBN,
                   DRCD                = :DRCD,
                   HKNCOMBINUM         = :HKNCOMBINUM,
                   DENPNUM             = :DENPNUM,
                   SRYKBN1             = :SRYKBN1,
                   SRYKBN2             = :SRYKBN2,
                   SRYKBN3             = :SRYKBN3,
                   SRYKBN4             = :SRYKBN4,
                   SRYKBN5             = :SRYKBN5,
                   SRYKBN6             = :SRYKBN6,
                   SRYKBN7             = :SRYKBN7,
                   SRYKBN8             = :SRYKBN8,
                   SRYKBN9             = :SRYKBN9,
                   SRYKBN10            = :SRYKBN10,
                   SRYKBN11            = :SRYKBN11,
                   ZAINUM1             = :ZAINUM1,
                   ZAINUM2             = :ZAINUM2,
                   ZAINUM3             = :ZAINUM3,
                   ZAINUM4             = :ZAINUM4,
                   ZAINUM5             = :ZAINUM5,
                   ZAINUM6             = :ZAINUM6,
                   ZAINUM7             = :ZAINUM7,
                   ZAINUM8             = :ZAINUM8,
                   ZAINUM9             = :ZAINUM9,
                   ZAINUM10            = :ZAINUM10,
                   ZAINUM11            = :ZAINUM11,
                   ZAINUM12            = :ZAINUM12,
                   ZAINUM13            = :ZAINUM13,
                   ZAINUM14            = :ZAINUM14,
                   ZAINUM15            = :ZAINUM15,
                   TERMID              = :TERMID,
                   OPID                = :OPID,
                   CREYMD              = :CREYMD,
                   UPYMD               = :UPYMD,
                   UPHMS               = :UPHMS
               WHERE   HOSPID        =   :UPHOSPID
                 AND   PTID          =   :UPPTID
 	  	 AND   NYUGAIKBN     =   :UPNYUGAIKBN
                 AND   SRYKA         =   :UPSRYKA 
                 AND   SRYYMD        =   :UPSRYYMD
                 AND   RENNUM        =   :UPRENNUM
                 AND   DOUJI_RENNUM  =   :UPDOUJI_RENNUM
                 AND   KAIKEI_RENNUM =   :UPKAIKEI_RENNUM
                 AND   EDANUM        =   :UPEDANUM
		;
	};
};

path	all 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_all_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
 		;
	};
};

path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
		;
	};
};

path	key8 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key8_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD  DESC,
                                          SRYKA,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};

path	key9 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key9_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
			AND   SRYYMD      =   :SRYYMD
			ORDER   BY        RENNUM,
			                  DOUJI_RENNUM,
			                  KAIKEI_RENNUM,
                                          EDANUM
		;
	};
};
path	key10 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key10_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   LASTKBN     =   '1'
			AND   SRYYMD      =
                           (SELECT MAX(SRYYMD)
                                   FROM tbl_jyurrk 
                               	WHERE   HOSPID    =   :HOSPID
		        	AND   PTID        =   :PTID
	         		AND   LASTKBN     =   '1'
                                AND   SRYYMD      <=  :SRYYMD )
			ORDER   BY        RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};path	key11 	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key11_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
			AND   LASTKBN     =   '1'
			AND   SRYYMD      =
                           (SELECT MAX(SRYYMD)
                                   FROM tbl_jyurrk 
                               	WHERE   HOSPID    =   :HOSPID
		        	AND   PTID        =   :PTID
              			AND   SRYKA       =   :SRYKA
	         		AND   LASTKBN     =   '1'
                                AND   SRYYMD      <=  :SRYYMD )
			ORDER   BY        RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};

path	key12	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key12_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
                        AND  (SRYYMD      >=  :SRYYMD
                        AND   SRYYMD      <=  :UPSRYYMD)
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD  DESC,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};
path	key13	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key13_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
                        AND  (SRYYMD      >=  :SRYYMD
                        AND   SRYYMD      <=  :UPSRYYMD)
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD  DESC,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};
path	key14	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key14_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
                        AND  (SRYYMD      >=  :SRYYMD
                        AND   SRYYMD      <=  :UPSRYYMD)
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD,
			                  RENNUM,
			                  DOUJI_RENNUM,
                                          EDANUM
		;
	};
};
path	key15	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key15_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   HKNCOMBINUM =   :HKNCOMBINUM
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD,
                                          SRYKA,
			                  RENNUM,
			                  DOUJI_RENNUM,
                                          EDANUM
		;
	};
};
path	key16	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key16_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
			AND   HKNCOMBINUM =   :HKNCOMBINUM
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD,
			                  RENNUM,
			                  DOUJI_RENNUM,
                                          EDANUM
		;
	};
};path	key17	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key17_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
                        AND  (SRYYMD      >=  :SRYYMD
                        AND   SRYYMD      <=  :UPSRYYMD)
			AND   HKNCOMBINUM =   :HKNCOMBINUM
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD  DESC,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};
path	key18	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key18_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
                        AND  (SRYYMD      >=  :SRYYMD
                        AND   SRYYMD      <=  :UPSRYYMD)
			AND   HKNCOMBINUM =   :HKNCOMBINUM
			AND   LASTKBN     =   '1'
			ORDER   BY        SRYYMD  DESC,
			                  RENNUM,
			                  DOUJI_RENNUM,
			                  EDANUM
		;
	};
};
path	key19	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key19_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
                        AND   SRYYMD      =   :SRYYMD
			AND   RENNUM      =   :RENNUM
			AND   HKNCOMBINUM =   :HKNCOMBINUM
			AND   LASTKBN     =   '1'
			ORDER   BY        DOUJI_RENNUM,
			                  EDANUM
		;
	};
};
path	key20	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key20_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYKA       =   :SRYKA
			AND   HKNCOMBINUM =   :HKNCOMBINUM
			AND   LASTKBN     =   '1'
                        AND ((ZAINUM1     =   :ZAINUM1 )
                        OR   (ZAINUM2     =   :ZAINUM2 )
                        OR   (ZAINUM3     =   :ZAINUM3 )
                        OR   (ZAINUM4     =   :ZAINUM4 )
                        OR   (ZAINUM5     =   :ZAINUM5 )
                        OR   (ZAINUM6     =   :ZAINUM6 )
                        OR   (ZAINUM7     =   :ZAINUM7 )
                        OR   (ZAINUM8     =   :ZAINUM8 )
                        OR   (ZAINUM9     =   :ZAINUM9 )
                        OR   (ZAINUM10    =   :ZAINUM10)
                        OR   (ZAINUM11    =   :ZAINUM11)
                        OR   (ZAINUM12    =   :ZAINUM12)
                        OR   (ZAINUM13    =   :ZAINUM13)
                        OR   (ZAINUM14    =   :ZAINUM14)
                        OR   (ZAINUM15    =   :ZAINUM15))
			ORDER   BY        SRYYMD,
                                          RENNUM,
                                          DOUJI_RENNUM,
			                  EDANUM
		;
	};
};

path	key21	{
	DBSELECT	{
		DECLARE tbl_jyurrk_key21_csr CURSOR FOR
		SELECT *
		FROM tbl_jyurrk
			WHERE   HOSPID    =   :HOSPID
			AND   NYUGAIKBN   =   :NYUGAIKBN
                        AND  (SRYYMD      >=  :SRYYMD
                        AND   SRYYMD      <=  :UPSRYYMD)
			AND   LASTKBN     =   '1'
			ORDER   BY        PTID,
                                          SRYYMD,
                                          RENNUM,
                                          DOUJI_RENNUM,
			                  EDANUM
		;
	};
};