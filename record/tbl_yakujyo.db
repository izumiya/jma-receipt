tbl_yakujyo {
        HOSPID  			char(24);
        SRYCD				char(9);
        TEKNUM	         		number(2);
        NAME                            varchar(170);
        EFFECT  			varchar(400);
        CAUTION  			varchar(850);
        PHOTO                    	varchar(256);
        COLOR                     	varchar(360);
        SHAPE           	        varchar(360);
        MARK                    	varchar(360);
        TERMID  			varchar(32);
        OPID    			varchar(16);
        CREYMD  			char(8);
        UPYMD    			char(8);
        UPHMS				char(6);
};
primary	{
	HOSPID,SRYCD,TEKNUM;
};

path	key 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key_csr CURSOR FOR
		SELECT *
		FROM tbl_yakujyo
			WHERE   HOSPID	=	:HOSPID
			AND	SRYCD	=	:SRYCD
			AND	TEKNUM	=	:TEKNUM
		;
	};
};

path	all 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_all_csr CURSOR FOR
		SELECT *
		FROM tbl_yakujyo
 		;
	};
};

path	key2s 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key2s_csr CURSOR FOR
		SELECT a.*
		FROM tbl_yakujyo a,tbl_tensu b
			WHERE  (a.NAME       LIKE   :NAME
			OR      b.NAME       LIKE   :NAME
			OR      b.KANANAME   LIKE   :NAME)
			AND     a.SRYCD      =     b.SRYCD
			AND     b.YUKOSTYMD  <=     :CREYMD
			AND     b.YUKOEDYMD  >=     :CREYMD
			AND     a.SRYCD      LIKE   '6%'
			AND     a.TEKNUM     =      '1'
			AND    (b.YKZKBN     =      '1'
			OR      b.YKZKBN     =      '6')
			ORDER   BY  a.SRYCD
		;
	};
};

path	key2k 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key2k_csr CURSOR FOR
		SELECT a.*
		FROM tbl_yakujyo a,tbl_tensu b
			WHERE  (a.NAME       LIKE   :NAME
			OR      b.NAME       LIKE   :NAME
			OR      b.KANANAME   LIKE   :NAME)
			AND     a.SRYCD      =     b.SRYCD
			AND     b.YUKOSTYMD  <=     :CREYMD
			AND     b.YUKOEDYMD  >=     :CREYMD
			AND     a.SRYCD      LIKE   '6%'
			AND     a.TEKNUM     =      '1'
			AND    (b.YKZKBN     =      '1'
			OR      b.YKZKBN     =      '6')
			ORDER   BY  b.KANANAME
		;
	};
};

path	key3s 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key3s_csr CURSOR FOR
		SELECT a.*
		FROM tbl_yakujyo a,tbl_tensu b
			WHERE  (a.SRYCD      =      :SRYCD
			OR      a.SRYCD      LIKE   :SRYCD)
			AND     a.SRYCD      =     b.SRYCD
			AND     b.YUKOSTYMD  <=     :CREYMD
			AND     b.YUKOEDYMD  >=     :CREYMD
			AND     a.SRYCD      LIKE   '6%'
			AND     a.TEKNUM     =      '1'
			AND    (b.YKZKBN     =      '1'
			OR      b.YKZKBN     =      '6')
			ORDER   BY  a.SRYCD
		;
	};
};

path	key3k 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key3k_csr CURSOR FOR
		SELECT a.*
		FROM tbl_yakujyo a,tbl_tensu b
			WHERE  (a.SRYCD      =      :SRYCD
			OR      a.SRYCD      LIKE   :SRYCD)
			AND     a.SRYCD      =     b.SRYCD
			AND     b.YUKOSTYMD  <=     :CREYMD
			AND     b.YUKOEDYMD  >=     :CREYMD
			AND     a.SRYCD      LIKE   '6%'
			AND     a.TEKNUM     =      '1'
			AND    (b.YKZKBN     =      '1'
			OR      b.YKZKBN     =      '6')
			ORDER   BY  b.KANANAME
		;
	};
};

path	key4s 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key4s_csr CURSOR FOR
		SELECT a.*
		FROM tbl_yakujyo a,tbl_tensu b
			WHERE   b.YKZKBN     =      :TEKNUM
			AND     a.SRYCD      =     b.SRYCD
			AND     b.YUKOSTYMD  <=     :CREYMD
			AND     b.YUKOEDYMD  >=     :CREYMD
			AND     a.SRYCD      LIKE   '6%'
			AND     a.TEKNUM     =      '1'
			AND    (b.YKZKBN     =      '1'
			OR      b.YKZKBN     =      '6')
			ORDER   BY  a.SRYCD
		;
	};
};

path	key4k 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key4k_csr CURSOR FOR
		SELECT a.*
		FROM tbl_yakujyo a,tbl_tensu b
			WHERE   b.YKZKBN     =      :TEKNUM
			AND     a.SRYCD      =     b.SRYCD
			AND     b.YUKOSTYMD  <=     :CREYMD
			AND     b.YUKOEDYMD  >=     :CREYMD
			AND     a.SRYCD      LIKE   '6%'
			AND     a.TEKNUM     =      '1'
			AND    (b.YKZKBN     =      '1'
			OR      b.YKZKBN     =      '6')
			ORDER   BY  b.KANANAME
		;
	};
};

path	key5s 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key5s_csr CURSOR FOR
		SELECT a.*
		FROM tbl_yakujyo a,tbl_tensu b
			WHERE   a.SRYCD      =     b.SRYCD
			AND     b.YUKOSTYMD  <=     :CREYMD
			AND     b.YUKOEDYMD  >=     :CREYMD
			AND     a.SRYCD      LIKE   '6%'
			AND     a.TEKNUM     =      '1'
			AND    (b.YKZKBN     =      '1'
			OR      b.YKZKBN     =      '6')
			ORDER   BY  a.SRYCD
		;
	};
};

path	key5k 	{
	DBSELECT	{
		DECLARE tbl_yakujyo_key5k_csr CURSOR FOR
		SELECT a.*
		FROM tbl_yakujyo a,tbl_tensu b
			WHERE   a.SRYCD      =     b.SRYCD
			AND     b.YUKOSTYMD  <=     :CREYMD
			AND     b.YUKOEDYMD  >=     :CREYMD
			AND     a.SRYCD      LIKE   '6%'
			AND     a.TEKNUM     =      '1'
			AND    (b.YKZKBN     =      '1'
			OR      b.YKZKBN     =      '6')
			ORDER   BY  b.KANANAME
		;
	};
};
